const axios = require("axios");

const uuidv4 = require("uuid").v4;

const requestConfig = {
  headers: {
    "Content-Type": "application/json",
    // "x-api-key": api_key,
  },
};

//python requests body

const currentDate = new Date().toISOString().slice(0, 10);
console.log(currentDate); // output: 2023-04-06

const page_data =
  "Netflix Shop\n\nNow Trending\n\nTitles\n\nCollections\n\nApparel\n\nCollectibles\n\nGoods\nSale\n\n\n\nSearch\nTerms & Conditions\nLast updated: June 1, 2023\n\nNetflix.shop is a destination that allows consumers to browse and purchase products relating to movies and series streamed on the Netflix service, and learn more about experiences or other services offered by Netflix. As used in this Terms of Service document, “Shop” means the destination located at netflix.shop and/or its subdomains [(together with any mobile versions, and any successor sites), regardless of how accessed], together with all features and functionalities, user interfaces, as well as all content and software associated with such.\n\nThe Shop is built on a Shopify platform, and is operated by two (2) merchants of record, depending on where you are as a customer:\n\nFor US customers: The Shop is operated by Netflix CPX, LLC and/or its affiliated entities (“Netflix Entities”). Netflix is the merchant of record for this Shop for US transactions.\nFor customers outside the US: The Shop is operated by Global-e is a trusted global ecommerce vendor whose solution allows Netflix.shop to provide the best possible user experience to our international customers. Global-e will be the company that you contract with for any international purchase of Netflix.shop products and will handle and process your payment. Approved international carriers will deliver your packages. To read more about Global-e’s terms and conditions, please visit here. Global-e may also collect personal information about you or your transaction. Please visit here to read their privacy policy. Global-e is the merchant of record for this Shop for transactions outside the United States.\n(Netflix and Global-e collectively, “Shop Administrators”).\n\nBy using, engaging with, browsing on, purchasing items/making bookings via the Shop, you agree to these Terms of Service, which govern your use of the Shop. Please read them carefully. They include important information about your legal rights, remedies, and obligations. If you do not agree to any portion of these Terms of Service, you should not access or shop via the Shop.\n\nTo the extent permitted under the laws governing where you are, you agree to the arbitration language of Section 10 below to resolve any disputes with the Netflix Entities (except for matters that may be taken to small claims court).\n\nFor more information, please visit our FAQ section here.\n\n1. User Account.\nHaving a user account on the Shop enables you to enjoy an enhanced shopping and checkout experience. It helps us recognize you and retain your preferences and enables you to manage and change your account settings.  You can sign up for your own account on the Shop when you check out. Take good care of your user name and password! The account you use on Netflix.shop and the one you may have for Netflix.com do not need to be the same.\nIn creating and using your user account for use on the Shop, you agree to: (i) provide true, accurate, current and complete information about yourself on any registration form required for the Shop (such information being the “Registration Data”); and (ii) maintain and promptly update the Registration Data to keep it true, accurate, current and complete. If you discover that you’ve inputted information incorrectly or incompletely, please reach out to Customer Service at CS@netflix.shop.\nWe may sell products for children, but we sell them only to adults, who can purchase with a credit card or other permitted payment method. If you are under 18, you must have a parent or legal guardian involved with your use of the Shop.\n 2. Use of Site.\n\nWhile we take all reasonable steps so that the Shop is available 24 hours every day, 365 days per year, the Shop may sometimes encounter downtime due to server and other technical issues.  We will not be liable if this Shop is unavailable at any time. The Shop may be temporarily unavailable due to issues such as system failure, maintenance or repair, or for reasons beyond our control. Where possible, we will try to give our users advance warning of maintenance issues, but shall not be obliged to do so.\nHarassment in any manner or form on the site, including via e-mail, chat, or by use of obscene or abusive language, is strictly forbidden. Impersonation of others, including Netflix Entities and/or other vendor, employee, host, or representative, as well as other members or visitors on the site is prohibited. You may not upload to, distribute, or otherwise publish through the Shop any content which is libelous, defamatory, obscene, threatening, invasive of privacy or publicity rights, abusive, illegal, or otherwise objectionable which may constitute or encourage a criminal offense, violate the rights of any party or which may otherwise give rise to liability or violate any law. You may not upload commercial content on the Shop or use the site to solicit others to join or become members of any other commercial online service or other organization.\n 3. Product Descriptions.\n\nWe attempt to be as accurate as possible with product or experience descriptions, and  other content on the Shop. We don’t warrant that product/experience descriptions or other content on any of the Shop is accurate, complete, reliable, current, or error-free. If a product or service offered on the Shop itself is not as described, your sole remedy is to return it in unused condition. As relates to experiences, if you have a compliant or consumer issue, please reach out to CS@netflix.com to inquire about a refund.\nIn the event that a product offered on the Shop is mistakenly listed at an incorrect price, we  reserve the right to refuse or cancel any orders placed for product listed at the incorrect price. If your credit card has already been charged for the purchase and your order is cancelled, we shall issue a credit to your credit card account in the amount of the incorrect price.\nFor products or services offered on the Shop via one of our Marketplace partners, the partner is solely responsible for the accuracy and completeness of the information provided about that item. Please see the section labeled Marketplace below for more information.\n 4. Availability of Products/Tickets.\n\nProducts or experience tickets offered via the Shop may be available on a limited quantity basis. We make no guarantees that such will be available to you, as they are offered on a first come, first served basis. We will mark products or tickets that are limited in a clear manner.\nInformation that is published on or through the Shop may contain references or cross-references to products, programs or services of the Netflix Entities and our respective partners, service providers, subsidiaries or affiliates that are not necessarily available in your area. Such references do not mean that we, or any of our partners, service providers, subsidiaries or affiliates will announce any of those products, programs or services in your area at any time in the future. You should contact us for information regarding the products, programs and services that may be available to you, if any.\nThird party links. In an attempt to provide increased value to our visitors, we may link to sites operated by third parties. However, even if the third party is affiliated with us, we have no control over these linked sites, all of which have separate privacy and data collection practices, independent of us. These linked sites are only for your convenience and therefore you access them at your own risk. Nonetheless, we seek to protect the integrity of the Shop and the links placed upon it. If you have feedback on the Shop, or any links included on it, please contact us at CS@netflix.shop. This includes items we may make available with partners who have signed on to our Marketplace ecosystem. \nCommunication with Shop. When you use any of the Shop, or send e-mails, text messages, and other communications from your desktop or mobile device to us, you are communicating with us electronically. You consent to receive communications from us electronically. We will communicate with you in a variety of ways, such as by e-mail, text, in-app push notices, or by posting  notices and messages on or through the Shop. You agree that all agreements, notices, disclosures, and other communications that we provide to you electronically satisfy any legal requirement that such communications be in writing. By submitting a telephone number to us you agree that one of our representatives can contact you at  the number you provide, potentially using automated technology (including texts/SMS messaging) or a pre-recorded message. Your consent is not an obligation to receive any products and/or services. To opt out of such messaging, please follow prompts on the SMS/text.\nIn an effort to enhance your shopping experience and give as many customers as possible the opportunity to purchase our merchandise or tickets, we may place limits on purchases and we do not authorize the purchase of commercial quantities. We also may, among other things, restrict orders placed by or under the same customer account, the same credit card and/or orders that use the same billing and/or shipping address. We reserve the right to limit, cancel or prohibit orders that, in our judgment, appear to be placed in violation of this policy. We further reserve the right to cease doing business with customers who violate this policy. We may modify this policy at any time without prior notice. This policy applies to all purchases made through the Shop, including, but not limited to, all purchases facilitated through our Marketplace service.\n \n\n5. Comments & Feedback. Comments, information or feedback submitted to us through email, text and/or the Shop, will be subject to the Privacy Statement. If you have additional questions or  comments of any kind, or if you want to provide feedback on anything you";
var data = {
  page_data: page_data,
};
// console.log(data);
console.log("-------------------");
console.log(JSON.stringify(data));

axios
  .post(
    "https://uxb6df64xcgfe7d754aw5k5lyu0giion.lambda-url.us-east-1.on.aws/",
    data,
    requestConfig
  )
  .then((res) => {
    console.log(`Status: ${res.status}`);
    console.log("Body: ", res.data);
  })
  .catch((err) => {
    // console.log(err);
    console.error(err.response.status);
    console.error(err.response.statusText);

    console.error(err.code);
  });
